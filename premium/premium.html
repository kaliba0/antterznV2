<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="product_page.css">
    <script type="module" src="https://unpkg.com/ionicons@7.1.0/dist/ionicons/ionicons.esm.js"></script>
    <script nomodule src="https://unpkg.com/ionicons@7.1.0/dist/ionicons/ionicons.js"></script>
    <script src="product_features.js"></script>
    <title>Premium | Boost Bot</title>
</head>
<body>
    <header>
        <a href="../index.html" class="logo">&#9001; antterznâ€¢dev &#9002;</a>

        <div class="navlinks">
            <a href="../index.html">Home</a>
            <a href="../products.html">Products</a>
            <a href="../login/login.html" class="profile"><ion-icon name="person"></ion-icon></a>
        </div>
    </header>

    <main>
        <div class="navigation">
            <div class="links">
                <a href="../index.html">Home</a>
                <p>></p>
                <a href="../botlists.html">Bots Discord</a>
                <p>></p>
                <a href="../boostbots.html">Boost Server Bot</a>
                <p>></p>
                <p style="font-weight: 600;">Premium</p>
            </div>
            <p>3/3</p>
        </div>

        <div class="price">
        </div>

        <h1 style="display: flex; flex-direction: row; align-items: center; gap: 10px;">Personnalize and order your <span style="color: #006C8D; background-color: antiquewhite;">Premium</span> ! <ion-icon name="diamond-outline" style="color: #006C8D; font-size: 40px;"></ion-icon></h1>

        <div class="preferences">
            <h2>Bot features</h2>

            <div class="features-list">
                <label>
                    <input type="checkbox" checked disabled>
                    <span class="custom-checkbox"></span>
                    <span class="text">Select service with a dropdown menu</span>
                </label>
                <label>
                    <input type="checkbox" checked disabled>
                    <span class="custom-checkbox"></span>
                    <span class="text">No ticket type limit !</span>
                </label>
                <label>
                    <input type="checkbox" checked disabled>
                    <span class="custom-checkbox"></span>
                    <span class="text">Get more informations about the client request with modals</span>
                </label>
                <label>
                    <input type="checkbox" checked disabled>
                    <span class="custom-checkbox"></span>
                    <span class="text">Auto-delete tickets after 5 days of inactivity</span>
                </label>
                <label>
                    <input type="checkbox" checked disabled>
                    <span class="custom-checkbox"></span>
                    <span class="text">"/ticket close" to close a ticket channel</span>
                </label>
                <label>
                    <input type="checkbox" checked disabled>
                    <span class="custom-checkbox"></span>
                    <span class="text">Request tracking</span>
                </label>
                <label>
                    <input type="checkbox" checked disabled>
                    <span class="custom-checkbox"></span>
                    <span class="text">"/clear" command to clear all messages in a channel</span>
                </label>
                <label>
                    <input type="checkbox" checked disabled>
                    <span class="custom-checkbox"></span>
                    <span class="text">Opened by {user} on {date and time} information on the recap</span>
                </label>
                <label>
                    <input type="checkbox" checked disabled>
                    <span class="custom-checkbox"></span>
                    <span class="text">Add players feature</span>
                </label>
                <label>
                    <input type="checkbox" checked disabled>
                    <span class="custom-checkbox"></span>
                    <span class="text">Add an embed that follows the ticket summary to explain how to pay</span>
                </label>
                <label>
                    <input type="checkbox" checked disabled>
                    <span class="custom-checkbox"></span>
                    <span class="text">Buy and sell accounts feature</span>
                </label>
                <label>
                    <input type="checkbox" checked disabled>
                    <span class="custom-checkbox"></span>
                    <span class="text">Notion website with logs of all the tickets</span>
                </label>
                <label>
                    <input type="checkbox" checked disabled>
                    <span class="custom-checkbox"></span>
                    <span class="text">One free "/" command</span>
                </label>
                <label>
                    <input type="checkbox" checked disabled>
                    <span class="custom-checkbox"></span>
                    <span class="text">Orders Rating</span>
                </label>
                <label>
                    <input type="checkbox" checked disabled>
                    <span class="custom-checkbox"></span>
                    <span class="text">Add a command to create embeds</span>
                </label>
                <label>
                    <input type="checkbox">
                    <span class="custom-checkbox"></span>
                    <span class="text">Add a service (+4â‚¬)</span>
                </label>
                <label>
                    <input type="checkbox">
                    <span class="custom-checkbox"></span>
                    <span class="text">When a ticket is created in your server, receive a mail/SMS with its informations (+7â‚¬)</span>
                </label>
                <label>
                    <input type="checkbox">
                    <span class="custom-checkbox"></span>
                    <span class="text">Add a command in the bot (+7â‚¬)</span>
                </label>
                <label>
                    <input type="checkbox">
                    <span class="custom-checkbox"></span>
                    <span class="text">Add a command to make giveaways (+10â‚¬)</span>
                </label>
                <label>
                    <input type="checkbox">
                    <span class="custom-checkbox"></span>
                    <span class="text">Be able to change the bot language (+7â‚¬)</span>
                </label>
            </div>
        </div>

        <div class="gallery">
            <h2>Photo Gallery</h2>
            <p>I do not have any pictures of this bot. Indeed, as this bot will be completly created for your needs and your wishes, I haven't built it yet (you didn't order this bot yet ðŸ˜‰)</p>
        </div>

        <div class="order-now">
            <h2>Order Now</h2>
            <p>1. Please send the needed amount <b>(<span id="price-order" style="color: white;"></span>â‚¬)</b> to me by clicking the link below :</p>
            <a href="https://www.paypal.com/paypalme/antterzndev"  class="paypal" target="_blank"><ion-icon name="logo-paypal"></ion-icon> antterzndev on PayPal <ion-icon name="logo-paypal"></ion-icon></a>
            <p>2. Please enter your email address in the field below :</p>
            <input type="email" name="Email-box" id="customer-email" placeholder="example@gmail.com" required>
            <p id="email-error" style="color:red;display:none;">Please enter a valid email address.</p>
            <p>I will receive your order and contact you very soon in order to have more precision about your Advanced.</p>
            <button class="orderbtn">PROCEED ORDER</button>
            <p id="success-order" style="color: rgb(83, 255, 83); font-weight: 700; display: none;">YOUR ORDER HAS BEEN SUCCESSFULLY SENT</p>
        </div>
    </main>

    <script>
        document.addEventListener('DOMContentLoaded', function () {
    const basePrice = 65;
    const priceBubble = document.querySelector('.price');
    const checkboxes = document.querySelectorAll('.features-list input[type="checkbox"]:not([disabled])');
    const orderBtn = document.querySelector('.orderbtn');
    const emailInput = document.getElementById('customer-email');
    const emailError = document.getElementById('email-error');
    const successText = document.getElementById('success-order');
    const priceOrder = document.getElementById('price-order');

    function updatePrice() {
        let totalPrice = basePrice;

        checkboxes.forEach(checkbox => {
            if (checkbox.checked) {
                const priceText = checkbox.parentNode.querySelector('.text').textContent;
                const additionalPriceMatch = priceText.match(/\+\d+â‚¬/);
                if (additionalPriceMatch) {
                    const additionalPrice = parseInt(additionalPriceMatch[0].replace('+', '').replace('â‚¬', ''));
                    totalPrice += additionalPrice;
                }
            }
        });

        priceBubble.textContent = totalPrice + 'â‚¬';
        priceOrder.textContent = totalPrice;
    }

    function validateEmail(email) {
        const re = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
        return re.test(String(email).toLowerCase());
    }

    function handleOrderClick(event) {
        event.preventDefault();
        const emailValue = emailInput.value;

        if (!validateEmail(emailValue)) {
            emailError.style.display = 'block';
        } else {
            emailError.style.display = 'none';

            const selectedFeatures = [];
            checkboxes.forEach(checkbox => {
                if (checkbox.checked) {
                    const featureText = checkbox.parentNode.querySelector('.text').textContent;
                    selectedFeatures.push(featureText);
                }
            });

            const orderDetails = {
                botName: "Premium",
                price: priceBubble.textContent,
                features: selectedFeatures,
                email: emailValue,
                orderDate: new Date().toLocaleString()
            };

            // Envoi des donnÃ©es au serveur pour traitement et envoi de l'email
            fetch('order_handler.php', {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json',
                },
                body: JSON.stringify(orderDetails),
            })
            .then(response => response.json())
            .then(data => {
                if (data.success) {
                    console.log('Your order has been placed successfully!');
                    successText.style.display = 'flex';
                } else {
                    alert('There was an error processing your order.');
                }
            })
            .catch((error) => {
                console.error('Error:', error);
                alert('There was an error processing your order.');
            });
        }
    }

    checkboxes.forEach(checkbox => {
        checkbox.addEventListener('change', updatePrice);
    });

    orderBtn.addEventListener('click', handleOrderClick);

    updatePrice(); // Calcul initial du prix
});

    </script>
</body>
</html>